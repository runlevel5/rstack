--- a/src/x86/Ginit.c
+++ b/src/x86/Ginit.c
@@ -130,6 +130,9 @@ access_reg (unw_addr_space_t as, unw_regnum_t reg, unw_word_t *val, int write,
   unw_word_t *addr;
   ucontext_t *uc = ((struct cursor *)arg)->uc;
 
+  if (!uc)
+    goto badreg;
+
   if (unw_is_fpreg (reg))
     goto badreg;
 
@@ -156,6 +159,9 @@ access_fpreg (unw_addr_space_t as, unw_regnum_t reg, unw_fpreg_t *val,
   ucontext_t *uc = ((struct cursor *)arg)->uc;
   unw_fpreg_t *addr;
 
+  if (!uc)
+    goto badreg;
+
   if (!unw_is_fpreg (reg))
     goto badreg;
 
